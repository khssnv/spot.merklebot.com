(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{554:function(t,e,n){"use strict";n.d(e,"b",(function(){return m})),n.d(e,"a",(function(){return w})),n.d(e,"e",(function(){return x})),n.d(e,"h",(function(){return k})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return _})),n.d(e,"f",(function(){return j})),n.d(e,"g",(function(){return R}));var r,c,o=n(14),l=(n(55),n(63),n(576)),d=n(583),f=n.n(d),v=n(585),h=n(568),m=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=2;break}return t.abrupt("return",r);case 2:return(r=new l.Robonomics({endpoint:"wss://kusama.rpc.robonomics.network/"})).setAccountManager(new f.a(v.a)),t.next=6,r.run();case 6:return t.next=8,f.a.initPlugin(r.accountManager.keyring);case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:return e=t.sent,t.next=5,e.accountManager.getAccounts();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(address){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:return e=t.sent,t.next=5,e.accountManager.selectAccountByAddress(address);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(address,e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c&&c(),t.next=3,m();case 3:return n=t.sent,t.next=6,n.account.getBalance(address,e);case 6:c=t.sent;case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),y=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(e,n){var r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:return r=t.sent,c=r.launch.send(e,Object(h.a)(n)),t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),_=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(e,n){var r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:return r=t.sent,c=r.api.tx.balances.transfer(e,n),t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),j=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:return n=t.sent,t.next=5,n.accountManager.signAndSend(e);case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(e){var n,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:return n=t.sent,t.next=5,n.api.tx.utility.batch(e);case 5:return r=t.sent,t.next=8,n.accountManager.signAndSend(r);case 8:return c=t.sent,t.abrupt("return",c);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},556:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));n(561);var r=n(94),c=n(792),o=n(557),l=n(554),d=Object(r.c)("wallet",{state:function(){return{accounts:[],walletConnectionStatus:"wait",selectedAccount:{account:null,balanceRaw:null,balanceFormatted:null,tickets:[]}}},actions:{connectWallet:function(){var t=this;Object(l.a)().then((function(e){console.log("accounts",e),t.accounts=e,t.setActiveAccount(e[0]),t.walletConnectionStatus="connected"})).catch((function(e){t.walletConnectionStatus="error"}))},setActiveAccount:function(t){var e=this;this.selectedAccount.account=t,Object(l.e)(t.address),Object(l.h)(this.selectedAccount.account.address,(function(n){Object(l.b)().then((function(r){var l=n.free.sub(n.feeFrozen);e.selectedAccount.balanceRaw=l,0===l&&(e.selectedAccount.balanceFormatted="0 XRT"),e.selectedAccount.balanceFormatted=Object(c.a)(l,{decimals:r.api.registry.chainDecimals[0],withUnit:r.api.registry.chainTokens[0]}),Object(o.c)(t.address).then((function(t){e.selectedAccount.tickets=t}))}))}))}}})},557:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return f}));var r=n(14),c=(n(63),n(77)),o=n.n(c).a.create({baseURL:"https://api.merklebot.com"}),l=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r,c,l,d,f,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.sender,r=void 0===n?null:n,c=e.nonce,l=void 0===c?null:c,d=e.launchTxId,f=void 0===d?null:d,t.next=3,o.get("robonomics-launch-traces",{params:{sender:r,nonce:l,launch_tx_id:f}});case 3:return v=t.sent,t.abrupt("return",v.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.post("spot-demo-ticket/checkout",{quantity:"1",account:e});case 2:return n=t.sent,t.abrupt("return",n.data.id);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.get("spot-demo/tickets",{params:{customer:e,spent:n}});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},561:function(t,e,n){"use strict";var r=n(1),c=n(562);r({target:"String",proto:!0,forced:n(563)("sub")},{sub:function(){return c(this,"sub","","")}})},562:function(t,e,n){var r=n(9),c=n(32),o=n(20),l=/"/g,d=r("".replace);t.exports=function(t,e,n,r){var f=o(c(t)),v="<"+e;return""!==n&&(v+=" "+n+'="'+d(o(r),l,"&quot;")+'"'),v+">"+f+"</"+e+">"}},563:function(t,e,n){var r=n(8);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},577:function(t,e){},578:function(t,e){},580:function(t,e){},824:function(t,e,n){"use strict";n.r(e);var r=n(14),c=(n(47),n(21),n(63),n(93)),o=n(556),l=n(557),d="https://js.stripe.com/v3",f=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,v="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",h=null,m=function(t){return null!==h||(h=new Promise((function(e,n){if("undefined"!=typeof window)if(window.Stripe&&t&&console.warn(v),window.Stripe)e(window.Stripe);else try{var script=function(){for(var t=document.querySelectorAll('script[src^="'.concat(d,'"]')),i=0;i<t.length;i++){var script=t[i];if(f.test(script.src))return script}return null}();script&&t?console.warn(v):script||(script=function(t){var e=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",script=document.createElement("script");script.src="".concat(d).concat(e);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(script),script}(t)),script.addEventListener("load",(function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))})),script.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(t){return void n(t)}else e(null)}))),h},w=function(t,e,n){if(null===t)return null;var r=t.apply(void 0,e);return function(t,e){t&&t._registerWrapper&&t._registerWrapper({name:"stripe-js",version:"1.31.0",startTime:e})}(r,n),r},x=Promise.resolve().then((function(){return m(null)})),k=!1;x.catch((function(t){k||console.warn(t)}));var y,_=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];k=!0;var r=Date.now();return x.then((function(t){return w(t,e,r)}))},j=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!y){t.next=2;break}return t.abrupt("return",y);case 2:return t.next=4,_("pk_live_51IvSZKJXrK78CsUSfSb5Jyjo3AkjZ2k6ZMr0c8miMMIcWcQiBKtCapD5ho2Bk45MjMh3QTlpLamkrOiG9gMJzMh100iGhW3ehO");case 4:return y=t.sent,t.abrupt("return",y);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=Object(c.b)({setup:function(){var t=Object(o.a)(),e=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)(t.selectedAccount.account.address);case 2:return n=e.sent,e.next=5,j();case 5:return r=e.sent,e.next=8,r.redirectToCheckout({sessionId:n});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=Object(c.a)((function(){return t.selectedAccount.balanceRaw*Math.pow(10,-9)>1})),d=Object(c.a)((function(){return t.selectedAccount.tickets.filter((function(t){return!1===t.spent})).length>=1}));return{wallet:t,checkout:e,hasEnoughXrt:n,hasTicket:d}}}),O=R,A=n(27),component=Object(A.a)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-full"},[t._m(0),t._v(" "),n("div",{staticClass:"flex flex-row mx-8 py-4"},[n("div",{staticClass:"basis-1/2 mx-2 px-2 dark:bg-gray-600 relative"},[n("p",{staticClass:"text-md my-4 mb-16 dark:text-white text-center"},[t._v("\n        "+t._s(t.wallet.selectedAccount.tickets.filter((function(t){return!1===t.spent})).length)+"\n        tickets\n      ")]),t._v(" "),n("button",{staticClass:"absolute bottom-0 inset-x-0 uppercase py-2 mx-4 my-2 px-4 md:mt-16 bg-transparent dark:text-gray-800 dark:bg-white hover:dark:bg-gray-100 border-2 border-gray-800 text-gray-800 dark:text-white hover:bg-gray-800 hover:text-white text-md text-center",attrs:{type:"button"},on:{click:t.checkout}},[n("span",[t._v("Get ticket")]),t._v(" "),n("img",{staticClass:"h-6 ml-2 inline-block bg-indigo-400 rounded-lg",attrs:{src:"stripe.svg"}})])]),t._v(" "),n("div",{staticClass:"basis-1/2 mx-2 px-2 dark:bg-gray-600 relative"},[n("p",{staticClass:"text-md my-4 mb-16 dark:text-white text-center"},[t._v("\n        "+t._s(t.wallet.selectedAccount.balanceFormatted)+" XRT\n      ")]),t._v(" "),n("a",{staticClass:"absolute bottom-0 inset-x-0 uppercase py-2 mx-4 my-2 px-4 md:mt-16 bg-transparent dark:text-gray-800 dark:bg-white hover:dark:bg-gray-100 border-2 border-gray-800 text-gray-800 dark:text-white hover:bg-gray-800 hover:text-white text-md text-center",attrs:{href:"https://www.kraken.com/prices/xrt-robonomics-price-chart/usd-us-dollar?interval=1m",target:"_blank",rel:"noopener noreferrer"}},[t._v("\n        Get XRT\n      ")])])]),t._v(" "),t.hasTicket||t.hasEnoughXrt?n("span",{staticClass:"text-md my-2 dark:text-white"},[t._v("\n    It is enough to launch the robot by\n    "),t.hasTicket?n("span",[t._v(" ticket")]):t._e(),t._v(" "),t.hasTicket&&t.hasEnoughXrt?n("span",[t._v(" or")]):t._e(),t._v(" "),t.hasEnoughXrt?n("span",[t._v(" XRT")]):t._e(),t._v(".\n  ")]):n("span",{staticClass:"text-md my-2 dark:text-white"},[t._v("\n    It is not enough to launch the robot. Purchase a ticket "),n("em",[t._v("or")]),t._v(" get\n    XRT.\n  ")])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"text-md my-2 dark:text-white"},[t._v("\n    One launch requires 1 ticket "),n("em",[t._v("or")]),t._v(" 1 XRT. You have:\n  ")])}],!1,null,"3a9776f0",null);e.default=component.exports}}]);