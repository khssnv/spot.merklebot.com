(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{607:function(t,e,o){var content=o(713);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(56).default)("75d8e834",content,!0,{sourceMap:!1})},712:function(t,e,o){"use strict";o(607)},713:function(t,e,o){var n=o(55)((function(i){return i[1]}));n.push([t.i,"/*purgecss start ignore*/\ndiv.clickEffect{\n  position:fixed;\n  box-sizing:border-box;\n  border-style:solid;\n  border-color:#8ed080;\n  border-radius:50%;\n  -webkit-animation:clickEffect .4s ease-out;\n          animation:clickEffect .4s ease-out;\n  z-index:99999\n}\n@-webkit-keyframes clickEffect{\n0%{\n    opacity:1;\n    width:.5em;\n    height:.5em;\n    margin:-.25em;\n    border-width:.5em\n}\nto{\n    opacity:.2;\n    width:8em;\n    height:7em;\n    margin:-4em;\n    border-width:.03em\n}\n}\n@keyframes clickEffect{\n0%{\n    opacity:1;\n    width:.5em;\n    height:.5em;\n    margin:-.25em;\n    border-width:.5em\n}\nto{\n    opacity:.2;\n    width:8em;\n    height:7em;\n    margin:-4em;\n    border-width:.03em\n}\n}\n\n/*purgecss end ignore*/",""]),n.locals={},t.exports=n},818:function(t,e,o){"use strict";o.r(e);o(20);var n={name:"CameraFrame",data:function(){return{pointers:[],calibrationNodes:[{robot_x:0,robot_y:0,camera_x:406,camera_y:274},{robot_x:.7,robot_y:1.5,camera_x:19,camera_y:322},{robot_x:3,robot_y:-4.3,camera_x:515,camera_y:123},{robot_x:-2,robot_y:-5.2,camera_x:1164,camera_y:193},{robot_x:-3.97,robot_y:1.2,camera_x:1095,camera_y:609}],calibrationProcess:!1,curCalibrationNodeIndex:0}},methods:{startCalibration:function(){alert("Start calibration"),this.calibrationProcess=!0,this.calibrationNodes=[],this.curCalibrationNodeIndex=0},onClickImage:function(t){var e=Math.floor(t.offsetX*(1280/this.$refs.image.width)),o=Math.floor(t.offsetY*(720/this.$refs.image.height));if(console.log(e,o),this.pointers.push([t.clientX,t.clientY]),this.calibrationProcess){var n={robot_x:0,robot_y:0,camera_x:0,camera_y:0};fetch("https://api.merklebot.com/strelka/odom",{method:"GET"}).then((function(t){return t.json()})).then((function(data){n.robot_x=data.position.x,n.robot_y=data.position.y})),n.camera_x=e,n.camera_y=o,this.calibrationNodes.push(n),this.curCalibrationNodeIndex+=1,this.curCalibrationNodeIndex>=16&&(this.calibrationProcess=!1,fetch("https://api.merklebot.com/strelka/set_movement_calibration_nodes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({calibration_nodes:this.calibrationNodes})}).then((function(t){return t.json()})).then((function(data){})),alert("Calibration finished"))}else fetch("https://api.merklebot.com/strelka/go_to_point",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({camera_point_coords:[e,o],calibration_nodes:this.calibrationNodes})}).then((function(t){return t.json()})).then((function(data){}))}}},r=(o(712),o(26)),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{position:"relative"}},[o("img",{ref:"image",staticClass:"w-full",staticStyle:{display:"block","-webkit-user-select":"none",margin:"auto","background-color":"hsl(0, 0%, 25%)"},attrs:{src:"https://api.merklebot.com/videoserver/video"},on:{click:t.onClickImage}}),t._v(" "),t._l(t.pointers,(function(t,e){return o("div",{key:e,staticClass:"clickEffect",style:{left:t[0]+"px",top:t[1]+"px"}})})),t._v(" "),o("div",{on:{click:t.startCalibration}},[t._v("\n    Calibrate\n  ")])],2)}),[],!1,null,null,null);e.default=component.exports}}]);