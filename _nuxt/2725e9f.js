(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{294:function(e,t,n){"use strict";n.r(t);n(14);var c={name:"VideoContainer",data:function(){return{pc:null}},methods:{negotiate:function(){var e=this;return this.pc.addTransceiver("video",{direction:"recvonly"}),this.pc.createOffer().then((function(t){return e.pc.setLocalDescription(t)})).then((function(){return new Promise((function(t){if("complete"===e.pc.iceGatheringState)t();else{e.pc.addEventListener("icegatheringstatechange",(function n(){"complete"===e.pc.iceGatheringState&&(e.pc.removeEventListener("icegatheringstatechange",n),t())}))}}))})).then((function(){var t=e.pc.localDescription;return fetch("http://10.200.0.8:8000/offer",{body:JSON.stringify({sdp:t.sdp,type:t.type}),headers:{"Content-Type":"application/json"},method:"POST"})})).then((function(e){return e.json()})).then((function(t){return e.pc.setRemoteDescription(t)})).catch((function(e){alert(e)}))},initPc:function(){var e={sdpSemantics:"unified-plan",iceServers:[{urls:["stun:stun.l.google.com:19302"]}]};this.pc=new RTCPeerConnection(e),this.pc.addEventListener("track",(function(e){"video"===e.track.kind&&(document.getElementById("video").srcObject=e.streams[0])}))}},mounted:function(){this.initPc(),this.negotiate()}},r=n(46),component=Object(r.a)(c,(function(){var e=this.$createElement;return(this._self._c||e)("video",{attrs:{id:"video",autoplay:"true",playsinline:"true",muted:"true"},domProps:{muted:!0}})}),[],!1,null,"7c6cf61e",null);t.default=component.exports}}]);